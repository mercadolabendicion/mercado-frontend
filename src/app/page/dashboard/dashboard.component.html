<div class="contenedor">
  <div class="row">
    <div class="col-md-6 col-lg-8">
      <h1>Dashboard principal</h1>
      <span>Monitorea el rendimiento del negocio en tiempo real</span>
    </div>
    <div class="col-md-6 col-lg-4">
      <div style="display: flex; gap: 10px; align-items: flex-end; justify-content: flex-end; height: 100%;">
        <div style="flex: 1;">
          <label for="fecha-inicio" style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px;">Fecha Inicio</label>
          <input 
            id="fecha-inicio"
            type="date" 
            [(ngModel)]="fechaInicio"
            (change)="onFechasChange()"
            style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;"
          >
        </div>
        <div style="flex: 1;">
          <label for="fecha-fin" style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px;">Fecha Fin</label>
          <input 
            id="fecha-fin"
            type="date" 
            [(ngModel)]="fechaFin"
            (change)="onFechasChange()"
            style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;"
          >
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-12">
      <div *ngIf="fechaInicio && fechaFin" class="justify-content-center d-flex" style="background:#f5f7fb;padding:10px;border-radius:6px;border:1px solid #e6e9ef;">
        <span>Mostrando informaci√≥n desde el <strong>{{ formatFechaLarga(fechaInicio) }}</strong> hasta el <strong>{{ formatFechaLarga(fechaFin) }}</strong></span>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-3 mt-4">
      <chart-ventas-hoy></chart-ventas-hoy>
    </div>
    <div class="col-md-6 col-lg-3 mt-4">
      <chart-ingresos-by-ventas [totalIngresos]="totalIngresos" [totalVentas]="totalVentas"></chart-ingresos-by-ventas>
    </div>
    <div class="col-md-6 col-lg-3 mt-4">
      <chart-promedio-ventas [promedioVenta]="promedioVenta"></chart-promedio-ventas>
    </div>
    <div class="col-md-6 col-lg-3 mt-4">
      <chart-total-caja-menor></chart-total-caja-menor>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-lg-9 mt-4">
      <chart-dia-mas-ingresos [ventasPorDia]="ventasPorDia"></chart-dia-mas-ingresos>
    </div>
    <div class="d-none d-lg-block col-md-12 col-lg-3">
      <div class="mt-4">
        <chart-dia-mas-ventas [ventasPorDia]="ventasPorDia"></chart-dia-mas-ventas>
      </div>
      <div class="mt-4">
        <chart-producto-mas-vendido [productoMasVendido]="productoMasVendido"></chart-producto-mas-vendido>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="d-block d-lg-none col-md-6 col-lg-3 mt-4">
      <chart-dia-mas-ventas [ventasPorDia]="ventasPorDia"></chart-dia-mas-ventas>
    </div>
    <div class="d-block d-lg-none col-md-6 col-lg-3 mt-4">
      <chart-producto-mas-vendido [productoMasVendido]="productoMasVendido"></chart-producto-mas-vendido>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-lg-6 mt-4" style="display: flex; flex-direction: column;">
      <chart-lista-mas-vendidos [productosMasVendidos]="productosMasVendidos" style="flex: 1;"></chart-lista-mas-vendidos>
    </div>
    <div class="col-md-12 col-lg-6 mt-4" style="display: flex; flex-direction: column;">
      <chart-productos-proximos-vencer [productosProximosVencer]="productosProximosVencer" style="flex: 1;"></chart-productos-proximos-vencer>
    </div>
  </div>
</div>